<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="421px" preserveAspectRatio="none" style="width:433px;height:421px;" version="1.1" viewBox="0 0 433 421" width="433px" zoomAndPan="magnify"><defs><filter height="300%" id="fnvh9hdphonwb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="144" x="138.25" y="20.6279">观察者模式结构图</text><!--MD5=[d0da0a299942266ebd64acf2b2e95fa4]
class Subject--><rect codeLine="3" fill="#FEFECE" filter="url(#fnvh9hdphonwb)" height="108.0918" id="Subject" style="stroke:#A80036;stroke-width:1.5;" width="183" x="9" y="173.583"/><ellipse cx="75.75" cy="189.583" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M74.3281,194.9424 Q72.4688,194.9424 71.375,193.5518 Q70.2813,192.1611 70.2813,189.1768 Q70.2813,186.6455 71.4453,184.9893 Q72.6094,183.333 74.5938,183.333 Q76.0625,183.333 76.5313,183.458 Q77,183.6611 77,183.6611 Q77,183.6611 77,183.5908 Q77,183.5205 77.6094,182.5986 L78.6563,186.2549 L77.3281,186.6611 Q76.8594,185.1143 76.1953,184.4502 Q75.5313,183.7861 74.4688,183.7861 Q74.0781,183.7861 73.3125,185.3174 Q72.5469,186.8486 72.5469,189.0986 Q72.5469,191.5674 73.2109,192.958 Q73.875,194.3486 74.4063,194.3486 Q75.4688,194.3486 76.2266,193.583 Q76.9844,192.8174 77.3281,191.1611 L78.6563,191.7549 Q78.3281,193.1611 77.4297,194.0518 Q76.5313,194.9424 74.3281,194.9424 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="41" x="96.25" y="195.1406">Subject</text><line style="stroke:#A80036;stroke-width:1.5;" x1="10" x2="191" y1="205.583" y2="205.583"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="17" y="213.583"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="128" x="29" y="222.189">observers:List&lt;Observer&gt;</text><line style="stroke:#A80036;stroke-width:1.5;" x1="10" x2="191" y1="228.606" y2="228.606"/><ellipse cx="20" cy="239.606" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="154" x="29" y="245.2119">attach(observer:Observer) void</text><ellipse cx="20" cy="254.6289" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="157" x="29" y="260.2349">detach(observer:Observer) void</text><polygon fill="#FFFF44" points="20,264.6519,24,268.6519,20,272.6519,16,268.6519" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110" x="29" y="275.2578">notifyObservers() void</text><!--MD5=[9182b206835a43bc1550ae1fc8c5ab74]
class ConcreteSubject--><rect codeLine="9" fill="#FEFECE" filter="url(#fnvh9hdphonwb)" height="63.0229" id="ConcreteSubject" style="stroke:#A80036;stroke-width:1.5;" width="123" x="54" y="31.583"/><ellipse cx="69" cy="47.583" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M67.5781,52.9424 Q65.7188,52.9424 64.625,51.5518 Q63.5313,50.1611 63.5313,47.1768 Q63.5313,44.6455 64.6953,42.9893 Q65.8594,41.333 67.8438,41.333 Q69.3125,41.333 69.7813,41.458 Q70.25,41.6611 70.25,41.6611 Q70.25,41.6611 70.25,41.5908 Q70.25,41.5205 70.8594,40.5986 L71.9063,44.2549 L70.5781,44.6611 Q70.1094,43.1143 69.4453,42.4502 Q68.7813,41.7861 67.7188,41.7861 Q67.3281,41.7861 66.5625,43.3174 Q65.7969,44.8486 65.7969,47.0986 Q65.7969,49.5674 66.4609,50.958 Q67.125,52.3486 67.6563,52.3486 Q68.7188,52.3486 69.4766,51.583 Q70.2344,50.8174 70.5781,49.1611 L71.9063,49.7549 Q71.5781,51.1611 70.6797,52.0518 Q69.7813,52.9424 67.5781,52.9424 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="91" x="83" y="53.1406">ConcreteSubject</text><line style="stroke:#A80036;stroke-width:1.5;" x1="55" x2="176" y1="63.583" y2="63.583"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="62" y="71.583"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91" x="74" y="80.189">subjectState:String</text><line style="stroke:#A80036;stroke-width:1.5;" x1="55" x2="176" y1="86.606" y2="86.606"/><!--MD5=[d40932010816485ec57b44b6eea2392a]
class Observer--><rect codeLine="15" fill="#FEFECE" filter="url(#fnvh9hdphonwb)" height="63.0229" id="Observer" style="stroke:#A80036;stroke-width:1.5;" width="164" x="248.5" y="344.583"/><ellipse cx="300.75" cy="360.583" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M297.3438,354.8643 L297.3438,354.458 L303.6563,354.458 L303.6563,354.8643 L301.125,354.8643 Q301.125,354.8643 301.2734,354.9971 Q301.4219,355.1299 301.4219,355.3955 L301.4219,364.8799 Q301.4219,365.1455 301.6406,365.2783 Q301.8594,365.4111 301.8594,365.4111 L303.6563,365.4111 L303.6563,365.8174 L297.3438,365.8174 L297.3438,365.4111 L298.875,365.4111 Q299.2031,365.4111 299.3359,365.2783 Q299.4688,365.1455 299.4688,364.8799 L299.4688,355.3955 Q299.4688,355.1299 299.3359,354.9971 Q299.2031,354.8643 298.875,354.8643 L297.3438,354.8643 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="51" x="321.25" y="366.1406">Observer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="249.5" x2="411.5" y1="376.583" y2="376.583"/><line style="stroke:#A80036;stroke-width:1.5;" x1="249.5" x2="411.5" y1="384.583" y2="384.583"/><ellipse cx="259.5" cy="395.583" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="268.5" y="401.189">update(subject:Subject) void</text><!--MD5=[d80bec951696c7ab326befc0be10e4b8]
class ConcreteObserver--><rect codeLine="18" fill="#FEFECE" filter="url(#fnvh9hdphonwb)" height="78.0459" id="ConcreteObserver" style="stroke:#A80036;stroke-width:1.5;" width="164" x="248.5" y="188.583"/><ellipse cx="277.9" cy="204.583" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M276.4781,209.9424 Q274.6188,209.9424 273.525,208.5518 Q272.4313,207.1611 272.4313,204.1768 Q272.4313,201.6455 273.5953,199.9893 Q274.7594,198.333 276.7438,198.333 Q278.2125,198.333 278.6813,198.458 Q279.15,198.6611 279.15,198.6611 Q279.15,198.6611 279.15,198.5908 Q279.15,198.5205 279.7594,197.5986 L280.8063,201.2549 L279.4781,201.6611 Q279.0094,200.1143 278.3453,199.4502 Q277.6813,198.7861 276.6188,198.7861 Q276.2281,198.7861 275.4625,200.3174 Q274.6969,201.8486 274.6969,204.0986 Q274.6969,206.5674 275.3609,207.958 Q276.025,209.3486 276.5563,209.3486 Q277.6188,209.3486 278.3766,208.583 Q279.1344,207.8174 279.4781,206.1611 L280.8063,206.7549 Q280.4781,208.1611 279.5797,209.0518 Q278.6813,209.9424 276.4781,209.9424 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="100" x="295.1" y="210.1406">ConcreteObserver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="249.5" x2="411.5" y1="220.583" y2="220.583"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="256.5" y="228.583"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="268.5" y="237.189">observerState:String</text><line style="stroke:#A80036;stroke-width:1.5;" x1="249.5" x2="411.5" y1="243.606" y2="243.606"/><ellipse cx="259.5" cy="254.606" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="268.5" y="260.2119">update(subject:Subject) void</text><!--MD5=[a5a381bafdcef32574688a0820e5062b]
link ConcreteSubject to Subject--><path codeLine="25" d="M112.68,94.653 C111.14,111.263 109.18,132.593 107.27,153.233 " fill="none" id="ConcreteSubject-to-Subject" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="114.21,154.173,105.4,173.443,100.27,152.883,114.21,154.173" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ac83b03dfffecda69d994c3151905043]
link ConcreteObserver to ConcreteSubject--><path codeLine="26" d="M280.01,188.423 C243.66,160.943 195.06,124.223 160.13,97.813 " fill="none" id="ConcreteObserver-to-ConcreteSubject" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="155.94,94.653,160.7204,103.2639,159.9331,97.6621,165.535,96.8749,155.94,94.653" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="217.5" y="140.481">回调目标对象，获取目标对象的数据</text><!--MD5=[b48a926dd11e0937d0f4c45e1bcef075]
link ConcreteObserver to Observer--><path codeLine="27" d="M330.5,266.693 C330.5,284.313 330.5,305.483 330.5,324.423 " fill="none" id="ConcreteObserver-to-Observer" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="337.5,324.543,330.5,344.543,323.5,324.543,337.5,324.543" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[17985df0d7710a982d77374bbb28b463]
link Subject to Observer--><path codeLine="28" d="M193.9823,288.1281 C193.9823,288.1281 248.13,322.623 271.44,337.463 " fill="none" id="Subject-Observer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="282.53,344.523,277.0866,336.3151,278.3124,341.8376,272.7899,343.0633,282.53,344.523" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="278.3124" x2="271.565" y1="341.8376" y2="337.543"/><polygon fill="#FFFFFF" points="183.86,281.683,186.7728,288.2796,193.9823,288.1281,191.0695,281.5314,183.86,281.683" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="187.0921" y="304.644">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="249.8491" y="333.7378">0..*</text><!--MD5=[acbee34c319b21926001c34ff468b715]
@startuml observer
title 观察者模式结构图
together {
    class Subject{
        -observers:List<Observer>
        +attach(observer:Observer) void
        +detach(observer:Observer) void
        #notifyObservers() void
    }
    class ConcreteSubject{
        -subjectState:String
    }
}

together {
    interface Observer{
        +update(subject:Subject) void
    }
    class ConcreteObserver{
        -observerState:String
        +update(subject:Subject) void
    }
}


ConcreteSubject - -|> Subject
ConcreteObserver ..> ConcreteSubject :回调目标对象，获取目标对象的数据
ConcreteObserver ..|> Observer
Subject "1" o- -> "0..*" Observer

@enduml

PlantUML version 1.2021.00(Sun Jan 10 18:25:05 CST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>